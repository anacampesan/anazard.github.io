<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>anazard.me</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="shortcut icon" type="image/png" href="./favicon.png">

    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">
    <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.3/umd/popper.min.js" integrity="sha384-ZMP7rVo3mIykV+2+9J3UJ46jBk0WLaUAdn689aCwoqbBJiSnjAK/l8WvCWPIPm49" crossorigin="anonymous"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/js/bootstrap.min.js" integrity="sha384-ChfqqxuZUCnJSK3+MXmPNIyE6ZbWh2IMqE241rYiqJxyMiZ6OW/JmZQ5stwEULTy" crossorigin="anonymous"></script>

    <link rel="stylesheet" href="./assets/styles/main.css">
</head>
<body>
    <nav class="navbar navbar-expand-lg navbar-dark bg-dark fixed-top">
    <div class="container">
            <a class="navbar-brand" href="/blog-proto/">
                <div class="navbar-brand-text">anazard.me</div>
            </a>
            <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNavAltMarkup" aria-controls="navbarNavAltMarkup" aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarNavAltMarkup">
                <div class="navbar-nav ml-auto">
                    <a class="nav-item nav-link" href="/blog-proto/">
                        <i class="fa fa-home" aria-hidden="true"></i>
                        Home
                    </a>
                    <a class="nav-item nav-link" href="/blog-proto/posts">
                        <i class="fa fa-list" aria-hidden="true"></i>
                        Posts
                    </a>
                    <a class="nav-item nav-link" href="/blog-proto/about">
                        <i class="fa fa-id-badge" aria-hidden="true"></i>
                        About
                    </a>
                </div>
            </div>
    </div>
</nav>

    <div class="content-wrapper-padding">
        <div class="jump-top"><i class="fa fa-arrow-up"></i></div>

<div class="container">
    <div class="card margin-bottom-0">
        <div class="card-body">
            <h1>[Javascript] Returning query parameters</h1>
            <strong>
                <a href="./about">@anazard</a> - 
                October  5, 2017
                
                    <span class="badge badge-secondary">programming</span>
                
                    <span class="badge badge-secondary">javascript</span>
                
                    <span class="badge badge-secondary">front-end</span>
                
                    <span class="badge badge-secondary">technology</span>
                
            </strong>
        </div>
    </div>
</div>

<div class="container-fluid post"
    
        style="background-image: url(./assets/images/posts/command-line.png"
    
    >
</div>

<div class="container margin-top-0">
    <div class="card">
        <div class="card-body">
            <p>This function that returns the value of a query parameter or false when it‚Äôs inexistent.
The trick is to track both starting and ending positions of the desired parameter, so that we‚Äôre able to split it from the query and return its value.
<!--more--></p>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">function</span> <span class="nx">getQueryParam</span><span class="p">(</span><span class="nx">param</span><span class="p">)</span> <span class="p">{</span>
  <span class="c1">// returns the query parameters portion from the url and gets rid of the ? at position [0]</span>
	<span class="kd">var</span> <span class="nx">query</span> <span class="o">=</span> <span class="nb">window</span><span class="p">.</span><span class="nx">location</span><span class="p">.</span><span class="nx">search</span><span class="p">.</span><span class="nx">substring</span><span class="p">(</span><span class="mi">1</span><span class="p">);</span>
	<span class="kd">var</span> <span class="nx">startPos</span> <span class="o">=</span> <span class="nx">query</span><span class="p">.</span><span class="nx">indexOf</span><span class="p">(</span><span class="nx">param</span><span class="p">);</span>
	<span class="k">if</span> <span class="p">(</span><span class="nx">startPos</span> <span class="o">==</span> <span class="o">-</span><span class="mi">1</span><span class="p">)</span> <span class="p">{</span>
		<span class="k">return</span> <span class="kc">false</span><span class="p">;</span>
	<span class="p">}</span>
	<span class="nx">query</span> <span class="o">=</span> <span class="nx">query</span><span class="p">.</span><span class="nx">substring</span><span class="p">(</span><span class="nx">startPos</span><span class="p">);</span>

  <span class="c1">// checks if the desired param is the last one in the query</span>
	<span class="k">if</span> <span class="p">(</span><span class="nx">query</span><span class="p">.</span><span class="nx">indexOf</span><span class="p">(</span><span class="s1">'&amp;'</span><span class="p">)</span> <span class="o">&gt;</span> <span class="o">-</span><span class="mi">1</span><span class="p">)</span> <span class="p">{</span>
		<span class="kd">var</span> <span class="nx">endPos</span> <span class="o">=</span> <span class="p">(</span><span class="nx">query</span><span class="p">.</span><span class="nx">indexOf</span><span class="p">(</span><span class="s1">'&amp;'</span><span class="p">,</span> <span class="nx">startPos</span><span class="p">)</span> <span class="o">==</span> <span class="o">-</span><span class="mi">1</span><span class="p">)</span> <span class="p">?</span> <span class="nx">query</span><span class="p">.</span><span class="nx">indexOf</span><span class="p">(</span><span class="s1">'&amp;'</span><span class="p">)</span>
																											<span class="p">:</span> <span class="nx">query</span><span class="p">.</span><span class="nx">indexOf</span><span class="p">(</span><span class="s1">'&amp;'</span><span class="p">,</span> <span class="nx">startPos</span><span class="p">);</span>
	<span class="p">}</span>

	<span class="kd">var</span> <span class="nx">keyValue</span> <span class="o">=</span> <span class="nx">query</span><span class="p">.</span><span class="nx">substring</span><span class="p">(</span><span class="nx">startPos</span><span class="p">,</span> <span class="nx">endPos</span><span class="p">);</span>
	<span class="k">return</span> <span class="nx">keyValue</span><span class="p">.</span><span class="nx">split</span><span class="p">(</span><span class="s1">'='</span><span class="p">)[</span><span class="mi">1</span><span class="p">];</span>
<span class="p">}</span>
</code></pre></div></div>
<p><a href="https://gist.github.com/anazard/a37b997d0bce174656bda9f6faf7f88f">This snippet on Github Gist</a></p>

<p>And it would be used like this:</p>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">// url ~&gt; http://mytestwebsite.com?first=1&amp;second=2</span>
<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">'First parameter: '</span> <span class="o">+</span> <span class="nx">getQueryParam</span><span class="p">(</span><span class="s1">'first'</span><span class="p">));</span>
<span class="c1">// 2</span>
</code></pre></div></div>

<p>This is only of the many ways in which you can implement a similar functionality. Feel free to come up with new ones below!</p>

            
            
                <hr>
                <h4>Come say hi! üôãüèª</h4>

    <div id="disqus_thread"></div>
    <script>
        (function() { // DON'T EDIT BELOW THIS LINE
        var d = document, s = d.createElement('script');
        s.src = 'https://anazard-me.disqus.com/embed.js';
        s.setAttribute('data-timestamp', +new Date());
        (d.head || d.body).appendChild(s);
        })();
    </script>
    <noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>

            
        </div>
    </div>
</div>
    </div>

    <footer class="navbar-dark bg-dark">
    <div class="container">
        <span class="navbar-text">
            anazard.me
        </span>
    </div>
</footer>


    <script src="./assets/scripts/custom.js"></script>
</body>
</html>