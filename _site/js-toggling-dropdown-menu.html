<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>
         [Javascript] Toggling dropdown menu - 
        anazard.me
    </title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="shortcut icon" type="image/png" href="./favicon.png">

    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">
    <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.3/umd/popper.min.js" integrity="sha384-ZMP7rVo3mIykV+2+9J3UJ46jBk0WLaUAdn689aCwoqbBJiSnjAK/l8WvCWPIPm49" crossorigin="anonymous"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/js/bootstrap.min.js" integrity="sha384-ChfqqxuZUCnJSK3+MXmPNIyE6ZbWh2IMqE241rYiqJxyMiZ6OW/JmZQ5stwEULTy" crossorigin="anonymous"></script>

    <link rel="stylesheet" href="./assets/styles/main.css">

    <!-- Global site tag (gtag.js) - Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-125251290-1"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());
        gtag('config', 'UA-125251290-1');
    </script>
</head>
<body>
    <nav class="navbar navbar-expand-lg navbar-dark bg-transparent fixed-top">
    <div class="container">
        <a class="navbar-brand" href="/blog-proto/">
            <div class="navbar-brand-text">üçÅ anazard.me</div>
        </a>
        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNavAltMarkup" aria-controls="navbarNavAltMarkup" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="navbarNavAltMarkup">
            <div class="navbar-nav">
                
            </div>

            <div class="navbar-nav ml-auto">
                <a class="nav-item nav-link" href="/blog-proto/">
                    <i class="fa fa-hashtag" aria-hidden="true"></i>
                    Home
                </a>
                <a class="nav-item nav-link" href="/blog-proto/posts">
                    <i class="fa fa-hashtag" aria-hidden="true"></i>
                    Posts
                </a>
                <a class="nav-item nav-link" href="/blog-proto/about">
                    <i class="fa fa-hashtag" aria-hidden="true"></i>
                    About
                </a>
            </div>
        </div>
    </div>
</nav>

        <div class="jump-top"><i class="fa fa-arrow-up"></i></div>

<div class="container container-post content-wrapper-padding">
    <nav aria-label="breadcrumb">
        <ol class="breadcrumb">
            <li class="breadcrumb-item"><a href="./">Home</a></li>
            <li class="breadcrumb-item"><a href="./posts">Posts</a></li>
            <li class="breadcrumb-item active" aria-current="page">[Javascript] Toggling dropdown menu</li>
        </ol>
    </nav>
    <div class="card margin-bottom-0">
        <div class="card-body">
                
            <h1>[Javascript] Toggling dropdown menu</h1>
            <strong>
                <a href="./about">
                    <i class="fa fa-user" aria-hidden="true"></i>
                    
                        anazard
                    
                </a> - 
                August 17, 2017
                
                    <span class="badge badge-secondary">
                        <i class="fa fa-tags" aria-hidden="true"></i>
                        programming
                    </span>
                
                    <span class="badge badge-secondary">
                        <i class="fa fa-tags" aria-hidden="true"></i>
                        javascript
                    </span>
                
                    <span class="badge badge-secondary">
                        <i class="fa fa-tags" aria-hidden="true"></i>
                        front-end
                    </span>
                
                    <span class="badge badge-secondary">
                        <i class="fa fa-tags" aria-hidden="true"></i>
                        technology
                    </span>
                
            </strong>
        </div>
    </div>
</div>

<div class="container-fluid post"
    
        style="background-image: url(./assets/images/posts/command-line.png"
    
    >
</div>

<div class="container container-post margin-top-0">
    <div class="card">
        <div class="card-body">
            <p>I came across a very interesting and common situation in which I had to toggle displaying a dropdown div upon clicking on a firing button. If the target of the click was any other element in the screen, the dropdown menu had to be closed.</p>

<div class="language-html highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">&lt;button</span> <span class="na">id=</span><span class="s">"notificationBtn"</span><span class="nt">&gt;</span>Menu<span class="nt">&lt;/button&gt;</span>

<span class="nt">&lt;div</span> <span class="na">id=</span><span class="s">"notificationBox"</span> <span class="na">style=</span><span class="s">"display: none;"</span><span class="nt">&gt;</span>
  <span class="nt">&lt;ul&gt;</span>
    <span class="nt">&lt;li&gt;</span>...<span class="nt">&lt;/li&gt;</span>
    <span class="nt">&lt;li&gt;</span>...<span class="nt">&lt;/li&gt;</span>
    <span class="nt">&lt;li&gt;</span>...<span class="nt">&lt;/li&gt;</span>
  <span class="nt">&lt;/ul&gt;</span>
<span class="nt">&lt;/div&gt;</span>
</code></pre></div></div>

<p>The first step to deal with the case is adding an event listener responsible for switching the dropdown display to none to the body of the document.</p>

<p>Now we add the event listener to the menu button, which will toggle the display depending on the current state of the menu div AND stop the propagation of the event, not letting it reach the listener in the body of the document.</p>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">document</span><span class="p">.</span><span class="nx">addEventListener</span><span class="p">(</span><span class="s1">'DOMContentLoaded'</span><span class="p">,</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
  <span class="kd">var</span> <span class="nx">notificationBtn</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nx">getElementById</span><span class="p">(</span><span class="s1">'notificationBtn'</span><span class="p">);</span>
  <span class="kd">var</span> <span class="nx">notificationBox</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nx">getElementById</span><span class="p">(</span><span class="s1">'notificationBox'</span><span class="p">);</span>

  <span class="nb">document</span><span class="p">.</span><span class="nx">body</span><span class="p">.</span><span class="nx">addEventListener</span><span class="p">(</span><span class="s1">'click'</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span><span class="nx">ev</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">notificationBox</span><span class="p">.</span><span class="nx">style</span><span class="p">.</span><span class="nx">display</span> <span class="o">=</span> <span class="s1">'none'</span><span class="p">;</span>
  <span class="p">});</span>

  <span class="nx">notificationBtn</span><span class="p">.</span><span class="nx">addEventListener</span><span class="p">(</span><span class="s1">'click'</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span><span class="nx">ev</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">ev</span><span class="p">.</span><span class="nx">stopPropagation</span><span class="p">();</span>
    <span class="nx">notificationBox</span><span class="p">.</span><span class="nx">style</span><span class="p">.</span><span class="nx">display</span> <span class="o">=</span> <span class="nx">notificationBox</span><span class="p">.</span><span class="nx">style</span><span class="p">.</span><span class="nx">display</span> <span class="o">==</span> <span class="s1">'none'</span> <span class="p">?</span> <span class="s1">'block'</span> <span class="p">:</span> <span class="s1">'none'</span><span class="p">;</span>
  <span class="p">});</span>
<span class="p">});</span>
</code></pre></div></div>

<p><a href="https://gist.github.com/anazard/3270023f25e54a6e491b071daec98377">This snippet on Github Gist</a></p>

            
            
                <hr>
                <h4>Come say hi! üôãüèª</h4>

    <div id="disqus_thread"></div>
    <script>
        (function() { // DON'T EDIT BELOW THIS LINE
        var d = document, s = d.createElement('script');
        s.src = 'https://anazard-me.disqus.com/embed.js';
        s.setAttribute('data-timestamp', +new Date());
        (d.head || d.body).appendChild(s);
        })();
    </script>
    <noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>

            
        </div>
    </div>
</div>

    <footer class="navbar-dark bg-dark">
    <div class="container">
        <span class="navbar-text">
            All rights reserved.
        </span>
    </div>
</footer>


    <script src="./assets/scripts/custom.js"></script>
</body>
</html>